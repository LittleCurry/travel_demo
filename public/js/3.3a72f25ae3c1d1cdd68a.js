webpackJsonp([3,8],{1:function(t,e){t.exports=function(t,e,n,o){var s,a=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(s=t,a=t.default);var i="function"==typeof a?a.options:a;if(e&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns),n&&(i._scopeId=n),o){var c=i.computed||(i.computed={});Object.keys(o).forEach(function(t){var e=o[t];c[t]=function(){return e}})}return{esModule:s,exports:a,options:i}}},3:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var s=n(7),a=o(s);e.default=a.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},4:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(2),a=o(s);e.default={replace:!0,props:{pageType:String,fixHead:Boolean,messageCount:Number,needAdd:{type:Boolean,default:!0}},data:function(){return{nickname:"",profileimgurl:"",show:!1}},methods:{openMenu:function(){(0,a.default)("html, body, #page").addClass("scroll-hide"),this.show=!this.show},showMenus:function(){this.show=!this.show,(0,a.default)("html, body, #page").removeClass("scroll-hide")}},components:{nvMenu:n(16)}}},5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={replace:!0,props:["showMenu","pageType","nickName","profileUrl"],components:{userInfo:n(17)}}},6:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),a=o(s),r=n(22);e.default={replace:!0,computed:(0,a.default)({},(0,r.mapGetters)({userInfo:"getUserInfo"})),methods:{goEnter:function(){this.$router.push({name:"login",query:{redirect:encodeURIComponent(this.$route.path)}})},goUser:function(){this.$router.push({name:"user",params:{loginname:this.userInfo.loginname}})}}}},7:function(t,e,n){t.exports={default:n(8),__esModule:!0}},8:function(t,e,n){n(12),t.exports=n(21).Object.assign},9:function(t,e,n){"use strict";var o=n(26),s=n(10),a=n(11),r=n(27),i=n(25),c=Object.assign;t.exports=!c||n(23)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=o})?function(t,e){for(var n=r(t),c=arguments.length,u=1,l=s.f,d=a.f;c>u;)for(var f,p=i(arguments[u++]),v=l?o(p).concat(l(p)):o(p),m=v.length,_=0;m>_;)d.call(p,f=v[_++])&&(n[f]=p[f]);return n}:c},10:function(t,e){e.f=Object.getOwnPropertySymbols},11:function(t,e){e.f={}.propertyIsEnumerable},12:function(t,e,n){var o=n(24);o(o.S+o.F,"Object",{assign:n(9)})},13:function(t,e){},14:function(t,e){},15:function(t,e,n){var o=n(1)(n(4),n(19),null,null);t.exports=o.exports},16:function(t,e,n){n(14);var o=n(1)(n(5),n(20),null,null);t.exports=o.exports},17:function(t,e,n){n(13);var o=n(1)(n(6),n(18),null,null);t.exports=o.exports},18:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-info"},[t.userInfo.loginname?t._e():n("ul",{staticClass:"login-no"},[n("li",{staticClass:"login",on:{click:t.goEnter}},[n("a",[t._v("登录")])])]),t._v(" "),t.userInfo.loginname?n("div",{staticClass:"login-yes",on:{click:t.goUser}},[n("div",{staticClass:"avertar"},[t.userInfo.avatar_url?n("img",{attrs:{src:t.userInfo.avatar_url}}):t._e()]),t._v(" "),n("div",{staticClass:"info"},[t.userInfo.loginname?n("p",{domProps:{textContent:t._s(t.userInfo.loginname)}}):t._e()])]):t._e()])},staticRenderFns:[]}},19:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.show&&t.fixHead?n("div",{staticClass:"page-cover",on:{click:t.showMenus}}):t._e(),t._v(" "),n("header",{class:{show:t.show&&t.fixHead,"fix-header":t.fixHead,"no-fix":!t.fixHead},attrs:{id:"hd"}},[n("div",{staticClass:"nv-toolbar"},[t.fixHead?n("div",{staticClass:"toolbar-nav",on:{click:t.openMenu}}):t._e(),t._v(" "),n("span",{domProps:{textContent:t._s(t.pageType)}}),t._v(" "),t.messageCount>0?n("i",{staticClass:"num"},[t._v(" "+t._s(t.messageCount))]):t._e(),t._v(" "),n("router-link",{attrs:{to:"/add"}},[t.needAdd?n("i",{directives:[{name:"show",rawName:"v-show",value:!t.messageCount||t.messageCount<=0,expression:"!messageCount || messageCount <= 0"}],staticClass:"iconfont add-icon"},[t._v("")]):t._e()])],1)]),t._v(" "),t.fixHead?n("nv-menu",{attrs:{"show-menu":t.show,"page-type":t.pageType,"nick-name":t.nickname,"profile-url":t.profileimgurl}}):t._e()],1)},staticRenderFns:[]}},20:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"nav-list",class:{show:t.showMenu},attrs:{id:"sideBar"}},[n("user-info"),t._v(" "),n("section",{staticClass:"list-ul"},[n("router-link",{staticClass:"icon-quanbu iconfont item",attrs:{to:{name:"list",query:{tab:"all"}}}},[t._v("全部")]),t._v(" "),n("router-link",{staticClass:"icon-hao iconfont item",attrs:{to:{name:"list",query:{tab:"good"}}}},[t._v("精华")]),t._v(" "),n("router-link",{staticClass:"icon-fenxiang iconfont item",attrs:{to:{name:"list",query:{tab:"share"}}}},[t._v("分享")]),t._v(" "),n("router-link",{staticClass:"icon-wenda iconfont item",attrs:{to:{name:"list",query:{tab:"ask"}}}},[t._v("问答")]),t._v(" "),n("router-link",{staticClass:"icon-zhaopin iconfont item",attrs:{to:{name:"list",query:{tab:"job"}}}},[t._v("招聘")]),t._v(" "),n("router-link",{staticClass:"icon-xiaoxi iconfont item line",attrs:{to:{name:"message"}}},[t._v("消息")]),t._v(" "),n("router-link",{staticClass:"icon-about iconfont item",attrs:{to:{name:"about"}}},[t._v("关于")])],1)],1)},staticRenderFns:[]}},47:function(t,e,n){n(89);var o=n(1)(n(60),n(111),null,null);t.exports=o.exports},60:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),a=o(s),r=n(2),i=o(r),c=n(15),u=o(c),l=n(22);e.default={data:function(){return{topic:{tab:"share",title:"",content:""},err:"",authorTxt:'<br/><br/><a class="from" href="https://github.com/shinygang/Vue-cnodejs">I‘m webapp-cnodejs-vue</a>'}},computed:(0,a.default)({},(0,l.mapGetters)({userInfo:"getUserInfo"})),methods:{addTopic:function(){var t=this;console.log(this.userInfo);var e=i.default.trim(this.topic.title),n=i.default.trim(this.topic.content);if(!e||e.length<10)return this.err="title",!1;if(!n)return this.err="content",!1;var o=(0,a.default)({},this.topic,{content:this.topic.content+this.authorTxt,accesstoken:this.userInfo.token});i.default.ajax({type:"POST",url:"https://cnodejs.org/api/v1/topics",data:o,dataType:"json",success:function(e){e.success&&t.$router.push({name:"list"})},error:function e(n){var e=JSON.parse(n.responseText);return t.$alert(e.error_msg),!1}})}},components:{nvHead:u.default}}},89:function(t,e){},111:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nv-head",{attrs:{"page-type":"主题","show-menu":!1,"fix-head":!0}}),t._v(" "),n("div",{staticClass:"add-container"},[n("div",{staticClass:"line"},[t._v("选择分类：\n            "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.topic.tab,expression:"topic.tab"}],staticClass:"add-tab",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.topic.tab=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"share"}},[t._v("分享")]),t._v(" "),n("option",{attrs:{value:"ask"}},[t._v("问答")]),t._v(" "),n("option",{attrs:{value:"job"}},[t._v("招聘")])]),t._v(" "),n("a",{staticClass:"add-btn",on:{click:t.addTopic}},[t._v("发布")])]),t._v(" "),n("div",{staticClass:"line"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.topic.title,expression:"topic.title"}],staticClass:"add-title",class:{err:"title"==t.err},attrs:{type:"text",placeholder:"标题，字数10字以上","max-length":"100"},domProps:{value:t.topic.title},on:{input:function(e){e.target.composing||(t.topic.title=e.target.value)}}})]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.topic.content,expression:"topic.content"}],staticClass:"add-content",class:{err:"content"==t.err},attrs:{rows:"35",placeholder:"回复支持Markdown语法,请注意标记代码"},domProps:{value:t.topic.content},on:{input:function(e){e.target.composing||(t.topic.content=e.target.value)}}})])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=3.3a72f25ae3c1d1cdd68a.js.map